#pragma config(Hubs,  S1, HTServo,  HTMotor,  HTMotor,  none)
#pragma config(Motor,  motorA,           ,             tmotorNXT, openLoop)
#pragma config(Motor,  motorB,           ,             tmotorNXT, openLoop)
#pragma config(Motor,  motorC,           ,             tmotorNXT, openLoop)
#pragma config(Motor,  mtr_S1_C2_1,     frontLeft,     tmotorTetrix, openLoop, encoder)
#pragma config(Motor,  mtr_S1_C2_2,     backLeft,      tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C3_1,     frontRight,       tmotorTetrix, openLoop, reversed, encoder)
#pragma config(Motor,  mtr_S1_C3_2,     backRight,     tmotorTetrix, openLoop, reversed)
#pragma config(Servo,  srvo_S1_C1_1,    lServo,               tServoStandard)
#pragma config(Servo,  srvo_S1_C1_2,    rServo,               tServoStandard)
#pragma config(Servo,  srvo_S1_C1_3,    servo3,               tServoNone)
#pragma config(Servo,  srvo_S1_C1_4,    servo4,               tServoNone)
#pragma config(Servo,  srvo_S1_C1_5,    servo5,               tServoNone) 
#pragma config(Servo,  srvo_S1_C1_6,    servo6,               tServoNone)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#include "JoystickDriver.c"

task main()
{
	waitForStart() ;

	while(true)
	{
		getJoystickSettings(joystick);
		int y = -(45*(joystick.joy1_y1)/64);
		int x = 45*(joystick.joy1_x1)/64;
		int tx = joystick.joy1_x1;
		int ty = joystick.joy1_y1;
		nxtDisplayTextLine(2, "x: %d", x);
		nxtDisplayTextLine(3, "y: %d", y);
		nxtDisplayTextLine(4, "tx: %d", tx);
		nxtDisplayTextLine(5, "ty: %d", ty);

		if(abs(tx)>7 || abs(ty) > 7)
		{
			motor[frontLeft] = y-x;
			motor[backLeft] = y-x;
			motor[frontRight] = y+x;
			motor[backRight] = y+x;
		}
		else
		{
			motor[frontLeft] = 0;
			motor[backLeft] = 0;
			motor[frontRight] = 0;
			motor[backRight] = 0;
		}
		if(joy1Btn(8) == 1)
		{
			servo[lServo] = 94;
			servo[rServo] = 87;
		}
		else
		{
			servo[lServo] = 180;
			servo[rServo] = 0;
		}
		/*		if(joy1Btn(5) == 1)
		{
		motor[liftUp] = 95;
		}
		else if(joy1Btn(7) == 1)
		{
		motor[liftUp] = -5;
		}
		else
		{
		motor[liftUp] = 0;
		}*/
	}
}
